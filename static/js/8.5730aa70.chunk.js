(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[8],{43:function(e,a,t){"use strict";var n=t(0),c=t.n(n);t(48);a.a=function(e){return c.a.createElement("div",{className:"card ".concat(e.className),style:e.style},e.children)}},48:function(e,a,t){},64:function(e,a,t){},65:function(e,a,t){},71:function(e,a,t){"use strict";t.r(a);var n=t(47),c=t.n(n),r=t(10),l=t(0),s=t.n(l),o=t(8),i=t(43),m=t(44),u=t(57),d=t(49),E=t(15),p=t(11),f=t(50),h=(t(64),function(e){var a=Object(f.a)(),t=a.isLoading,n=a.error,o=a.sendRequest,h=a.clearError,v=Object(l.useContext)(p.a),b=Object(l.useState)(!1),C=Object(r.a)(b,2),N=C[0],k=C[1],O=Object(l.useState)(!1),_=Object(r.a)(O,2),g=_[0],j=_[1],A=function(){return k(!1)},w=function(){j(!1)};return s.a.createElement(s.a.Fragment,null,s.a.createElement(d.a,{error:n,onClear:h}),s.a.createElement(u.a,{show:N,onCancel:A,header:e.address,contentClass:"place-item__modal-content",footerClass:"place-item__modal-actions",footer:s.a.createElement(m.a,{onClick:A},"FECHAR")},s.a.createElement("div",{className:"map-container"},s.a.createElement("h2",null,"MAPA"),s.a.createElement("div",{className:"map-placeholder"}))),s.a.createElement(u.a,{show:g,onCancel:w,header:"Are you sure?",footerClass:"place-item__modal-actions",footer:s.a.createElement(s.a.Fragment,null,s.a.createElement(m.a,{inverse:!0,onClick:w},"CANCELAR"),s.a.createElement(m.a,{danger:!0,onClick:function(){return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return j(!1),a.prev=1,a.next=4,c.a.awrap(o("https://mern-backend-course.herokuapp.com/api"+"/places/".concat(e.id),"DELETE",null,{Authorization:"Bearer "+v.token}));case 4:e.onDelete(e.id),a.next=9;break;case 7:a.prev=7,a.t0=a.catch(1);case 9:case"end":return a.stop()}}),null,null,[[1,7]])}},"DELETAR"))},s.a.createElement("p",null,"Tem certeza que deseja deletar esse local? Note que isso n\xe3o pode ser desfeito.")),s.a.createElement("li",{className:"place-item"},s.a.createElement(i.a,{className:"place-item__content"},t&&s.a.createElement(E.a,{asOverlay:!0}),s.a.createElement("div",{className:"place-item__image"},s.a.createElement("img",{src:"".concat(e.image),alt:e.title})),s.a.createElement("div",{className:"place-item__info"},s.a.createElement("h2",null,e.title),s.a.createElement("h3",null,e.address),s.a.createElement("p",null,e.description)),s.a.createElement("div",{className:"place-item__actions"},s.a.createElement(m.a,{inverse:!0,onClick:function(){return k(!0)}},"OLHAR NO MAPA"),v.userId===e.creatorId&&s.a.createElement(m.a,{to:"/places/".concat(e.id)},"EDIT"),v.userId===e.creatorId&&s.a.createElement(m.a,{danger:!0,onClick:function(){j(!0)}},"DELETAR")))))}),v=(t(65),function(e){return 0===e.items.length?s.a.createElement("div",{className:"place-list center"},s.a.createElement(i.a,null,s.a.createElement("h2",null,"Nenhum local encontrado. Que tal criar um?"),s.a.createElement(m.a,{to:"/places/new"},"Compartilhar local"))):s.a.createElement("ul",{className:"place-list"},e.items.map((function(a){return s.a.createElement(h,{key:a.id,id:a.id,image:a.image,title:a.title,description:a.description,address:a.address,creatorId:a.creator,coordinates:a.location,onDelete:e.onDeletePlace})})))});a.default=function(){var e=Object(l.useState)(),a=Object(r.a)(e,2),t=a[0],n=a[1],i=Object(f.a)(),m=i.isLoading,u=i.error,p=i.sendRequest,h=i.clearError,b=Object(o.h)().userId;Object(l.useEffect)((function(){!function(){var e;c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,c.a.awrap(p("".concat("https://mern-backend-course.herokuapp.com/api","/places/user/").concat(b)));case 3:e=a.sent,n(e.places),a.next=9;break;case 7:a.prev=7,a.t0=a.catch(0);case 9:case"end":return a.stop()}}),null,null,[[0,7]])}()}),[p,b]);return s.a.createElement(s.a.Fragment,null,s.a.createElement(d.a,{error:u,onClear:h}),m&&s.a.createElement("div",{className:"center"},s.a.createElement(E.a,null)),!m&&t&&s.a.createElement(v,{items:t,onDeletePlace:function(e){n((function(a){return a.filter((function(a){return a.id!==e}))}))}}))}}}]);
//# sourceMappingURL=8.5730aa70.chunk.js.map